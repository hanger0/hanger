<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="Data">
	<typeAlias alias="cart" type="com.hanger.order.vo.CartVo"/>
	
	<insert id="insertCart" parameterClass="HashMap">
		insert into cart(user_code, item_code, cart_item_amount, cart_item_recom, ITEM_MARKET_PRICE, ITEM_SELL_PRICE, ITEM_PURCHASE_PRICE, reg_id, reg_date, reg_ip, upd_id, upd_date, upd_ip)
		values (#userCode#, #itemCode#, #itemAmount#, #cartItemRecom#, #itemMarketPrice#, #itemSellPrice#, #itemPurchasePrice#, #regId#, sysdate(), #regIp#, #updId#, sysdate(), #updIp#)
	</insert>
	
	<select id="selectCart" resultClass="cart" parameterClass="String">
		select 
			cart.user_code as userCode, cart.item_code as itemCode, cart.cart_item_amount as cartItemAmount, 
			cart.cart_item_recom as cartItemRecom, cart.ITEM_MARKET_PRICE as itemMarketPrice, 
			cart.ITEM_SELL_PRICE as itemSellPrice, cart.ITEM_PURCHASE_PRICE as itemPurchasePrice,
			item.item_name as itemName, item.item_pic_path as itemPicPath, item.item_pic_savename as itemPicSaveName,
			item.item_detail_info as itemDetailInfo
		from 
			cart cart, item item
		where
			cart.item_code = item.item_code AND cart.user_code = #myUserCode# 
	</select>
</sqlMap>